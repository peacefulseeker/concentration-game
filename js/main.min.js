!function(t){function e(e){var n="";t(".grid").append(e),l=s(),n=i(l,n),t(".grid").append(n).addClass("show")}function i(e,i){for(var s=0;s<2;s++)e.shuffle(),t.each(e,function(t,e){i+='<div class="svg-wrapper" data-svg="'+e+'">\t\t\t\t<svg class="svg-icon">\t\t\t\t<use xlink:href="#'+e+'" />\t\t\t\t</svg>\t\t\t\t</div>'});return i}function s(){return l=[],t(".grid > svg").find("symbol[id]").each(function(t,e){l.push(e.getAttribute("id")),l.shuffle()}),l.slice(0,u/2)}function n(e,i,s){t("html,body").not(":animated").delay(i).animate({scrollTop:e.offset().top+s},400)}var a,r,o,l=[],d=0,h=0,f=0,u=16,c=!1,v=!1;Array.prototype.shuffle=function(){return this.sort(function(){return Math.random()-.5})},window.startGame=function(e){if(v=!0,void 0!==a)return void alert("First Finish The Game");a=setInterval(function(){++d,r=Math.floor(d/60),r=r<10?"0"+r:r,o=d%60,o=o<10?"0"+o:o,t("#mins").text(r),t("#secs").text(o)},1e3)},window.startNewGame=function(e){if(!c)return void alert("First Finish The Game!");clearInterval(a),a=void 0,d=0,h=0,f=0,t("#mins").text("00"),t("#secs").text("00"),l=s();var n=i(l,"");t(".grid .svg-wrapper").fadeOut().remove(),t("#result").css("visibility","hidden"),t(".grid").append(n),c=!1,startGame()},t.get("img/game-elements.svg",function(t){e(t)},"text"),t(".grid").on("click",".svg-wrapper",function(){if(!v)return void alert("Start the game first!");var e=t(this);if(!e.hasClass("matched")){var i=e.data("svg"),s=t(".svg-wrapper.flipped");if(s.length>=3)return void alert("not so fast");var l=s.filter(function(){return t(this).data("svg")==i});l.length?(e.add(l).addClass("matched").delay(600).queue(function(){t(this).css("visibility","hidden").dequeue()}),t(".svg-wrapper").not(l).removeClass("flipped"),f++):s.length&&t(".svg-wrapper").delay(500).queue(function(e){t(this).stop().removeClass("flipped"),e()}),t(this).addClass("flipped"),h++,f==u/2&&(c=!0,clearInterval(a),setTimeout(function(){t(".button#start-game").text("Start New Game").attr("onclick","startNewGame(event)");var e="<p>Congratulations! You have successfully finsihed the game in <strong>"+r+" : "+o+"</strong> seconds! You have made <strong>"+h+"</strong> moves to finish the game</p>";t("#result").css("visibility","visible").html(e),n(t("#result"),0,-50)},1e3))}}),t("a[href^='#']").not('[href="#"]').not('[href="#0"]').on("click",function(e){e.preventDefault();var i=t(t(this).attr("href"));i=i.length?i:t("[name="+t(this).attr("href").slice(1)+"]"),i.length&&n(i,0,-20)}),location.hash.length&&t(location.hash).length&&n(t(location.hash),1e3,-20)}(jQuery);